---
layout: post
title:  "新 Mac 的数据迁移"
date:   2012-01-03 18:00:00
categories: 
  - Mac
  - Mac-OS-X
---

之前的470(2008年末15吋机型，第一代Unibody Macbook Pro)，不知道什么时候磕坏了，以太网口变形，屏幕错位。新Mac的数据迁移。周六拿去西单Apple Store维修，修完之后屏幕仍然有点向后错位，所以干脆买了17吋的311回来。本来以为从时间机器的备份盘里可以直接把数据迁移到新Mac上，经过实践才知道这样是不行的，貌似TM备份盘和机器是一对一的。要迁移数据到新的Mac上只能从另一台正在运行Mac上进行拷贝。数据迁移的步骤是：

1. 使用双绞线连接两台Mac（现在的网卡都支持自动翻转功能，所以没必要使用直通线），即便是5类线也可以达到不错的传输速度。

2. 在两台Mac上设置以太网如下（在“系统偏好设置…” => “网络”下面）
一台机器上设置：
* IP地址  192.168.1.10
* 子网掩码  255.255.255.0
* 路由器   192.168.1.1

另外一台机器上设置：
* IP地址  192.168.1.11
* 子网掩码  255.255.255.0
* 路由器  192.168.1.1

![](/assets/images/2012-01-03-data-migration-for-new-mac/1.png)
3. 在新Mac的“/应用程序/实用工具”下面找到“迁移助理”，选择“从另一台Mac、PC、Time Machine备份或其他磁盘”。
![](/assets/images/2012-01-03-data-migration-for-new-mac/2.png)
4. 在另一台Mac的“/应用程序/实用工具”下面找到“迁移助理”，选择“至另一台Mac”。
![](/assets/images/2012-01-03-data-migration-for-new-mac/3.png)
5. 按照提示继续操作就可以了
6. 注意：如果新Mac上有和旧Mac上相同的用户账户，则不能在这个账户下进行迁移。例如我新建了另外一个账户"migrate"，登录到"migrate"账户再进行迁移。
7. 数据迁移完成之后，并不是所有数据都原封不动地复制到老新机器中。在我的机器上有这些数据没有完整拷贝：

* Java/Eclipse
* Perl CPAN modules
* /usr/bin/rails这个脚本没有拷贝，需要手动拷贝过来
* Adobe Flash

可气的是周六拿回“修好”的470，回家打开发现屏幕直接就不亮了。周日又跑了一趟西单，Apple“天才”说修好要3到5天。现在维修状态还是“维修中”。
![](/assets/images/2012-01-03-data-migration-for-new-mac/4.png)